<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Login - RF Driver</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body{
 font-family:Inter,system-ui;
 background:#0d0d0d;
 color:#fff;
 padding:40px 20px;
}
h1{
 font-size:28px;
 color:#d6b25f;
 margin-bottom:20px;
 text-align:center;
}
label{display:block;margin-top:14px;font-size:14px;}
input{
 width:100%;padding:12px;border-radius:10px;
 border:1px solid #333;
 background:#161616;color:#fff;
 margin-top:6px;
 font-size:14px;
}
button{
 width:100%;padding:14px;margin-top:25px;
 background:linear-gradient(90deg,#d6b25f,#e8d08a);
 border:none;border-radius:10px;font-weight:700;color:#000;
 cursor:pointer;font-size:16px;
}
.container{max-width:480px;margin:auto;}
p{text-align:center;margin-top:20px;}
a{color:#d6b25f;text-decoration:none;}
</style>
</head>

<body>

<div class="container">
  <h1>Login</h1>

  <form onsubmit="fazerLogin(); return false;">
    <label>Usuário ou E-mail</label>
    <input type="text" id="usuario" required>

    <label>Senha</label>
    <input type="password" id="senha" required>

    <button type="submit">Entrar</button>
  </form>

  <p><a href="#" onclick="recover()">Esqueci minha senha</a></p>
</div>

<script>
function fazerLogin(){
  const usuarioInput = document.getElementById("usuario").value.trim();
  const senhaInput   = document.getElementById("senha").value.trim();

  /* ===== LOGIN MASTER ===== */
  const MASTER_USER  = "master";
  const MASTER_PASS  = "senha123";

  if(usuarioInput === MASTER_USER && senhaInput === MASTER_PASS){
    localStorage.setItem("logado","1");
    localStorage.setItem("planoAtivo","MASTER");
    localStorage.setItem("isMaster","true");

    location.href = "index.html";
    return;
  }

  /* ===== LOGIN NORMAL ===== */
  const user = JSON.parse(localStorage.getItem("usuarioRF") || "null");

  if(!user){
    alert("Usuário não encontrado");
    return;
  }

  const loginValido =
    usuarioInput === user.email ||
    usuarioInput === user.usuario;

  if(!loginValido){
    alert("Usuário ou e-mail incorreto");
    return;
  }

  if(senhaInput !== user.senha){
    alert("Senha incorreta");
    return;
  }

  localStorage.setItem("logado","1");
  localStorage.setItem("planoAtivo", user.plano || "FREE");
  localStorage.removeItem("isMaster");

  location.href = "index.html";
}

/* ===== RECUPERAÇÃO ===== */
function recover(){
  const num = prompt("Digite seu número de celular cadastrado:");

  if(!num){
    alert("Digite o número.");
    return;
  }

  const user = JSON.parse(localStorage.getItem("usuarioRF")||"null");

  if(!user){
    alert("Nenhum usuário cadastrado.");
    return;
  }

  if(num !== user.celular){
    alert("Número não encontrado.");
    return;
  }

  alert("Sua senha é: " + user.senha);
}
</script>

</body>
</html>
